{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/IGR/tnega-pratik/src/Pages/AuthPages/Otp.js\";\nimport React, { Component } from 'react';\nimport signin_bannerImg from '../../Assests/icon/signin_bannerImg.png';\nimport Downlogo from '../../Assests/icon/downlogo.png';\nimport titleIcon from \"../../Assests/icon2/Bimg.svg\";\nimport loginIcon from \"../../Assests/icon2/loginIcon.svg\";\nimport OTPInput, { ResendOTP } from \"otp-input-react\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { otpVerification } from '../../store/Login/action';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { loginApi } from '../../store/Login/action';\nimport { CountdownCircleTimer } from 'react-countdown-circle-timer';\nimport * as CryptoJS from 'crypto-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ntoast.configure();\nconst MySwal = withReactContent(Swal);\n_c = MySwal;\n\nclass SignIn_OTP extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOtpChange = event => {\n      console.log(event);\n      this.setState({\n        otp: event\n      });\n    };\n\n    this.setErrors = error => this.setState({\n      errors: { ...this.state.errors,\n        ...error\n      }\n    });\n\n    this.handleSubmitOtp = () => {\n      if (this.state.minutes !== 0 || this.state.seconds !== 0) {\n        console.log(\"ok data\");\n        const encryptconfigs = {\n          \"key\": \"t700#zkrF@db0705\",\n          \"iv\": \"i700#zkrF@db0705\"\n        };\n        var key = CryptoJS.enc.Latin1.parse(encryptconfigs.key);\n        var iv = CryptoJS.enc.Latin1.parse(encryptconfigs.iv);\n        var encryptedData = CryptoJS.AES.encrypt(this.state.otp, key, {\n          iv: iv,\n          mode: CryptoJS.mode.CBC,\n          padding: CryptoJS.pad.Pkcs7\n        });\n        encryptedData = encryptedData.toString();\n        console.log(encryptedData); // var key = CryptoJS.enc.Latin1.parse(encryptconfigs.key);\n        // var iv = CryptoJS.enc.Latin1.parse(encryptconfigs.iv);\n\n        var encryptedDataemail = CryptoJS.AES.encrypt(this.props.location.state.email, key, {\n          iv: iv,\n          mode: CryptoJS.mode.CBC,\n          padding: CryptoJS.pad.Pkcs7\n        });\n        encryptedDataemail = encryptedDataemail.toString();\n        console.log(encryptedDataemail);\n        const body = {\n          email: this.props.location.state.email,\n          otp: encryptedData\n        };\n        this.props.otpVerification(body);\n      } else {\n        MySwal.fire('Times Up').then(() => this.props.history.push('/'));\n      }\n    };\n\n    this.componentDidUpdate = prev => {\n      if (prev.otpVerify !== this.props.otpVerify) {\n        if (this.props.otpVerify.status == true) {\n          console.log(this.props.otpVerify.user);\n\n          if (this.props.otpVerify.user.role == 'SRO') {\n            localStorage.setItem('auth_token', this.props.otpVerify.user.token);\n            localStorage.setItem('refresh_token', this.props.otpVerify.user.refreshtoken);\n            toast.success('Login Successful');\n            this.props.history.push({\n              pathname: '/registration-dashboard4',\n              state: {\n                role: this.props.otpVerify.user.role,\n                zone: this.props.otpVerify.user.Zone,\n                district: this.props.otpVerify.user.District,\n                SRO: this.props.otpVerify.user.SRO\n              }\n            });\n          }\n\n          if (this.props.otpVerify.user.role == 'DRO') {\n            localStorage.setItem('auth_token', this.props.otpVerify.user.token);\n            localStorage.setItem('refresh_token', this.props.otpVerify.user.refreshtoken);\n            toast.success('Login Successful');\n            this.props.history.push({\n              pathname: '/registration-dashboard2',\n              state: {\n                role: this.props.otpVerify.user.role,\n                zone: this.props.otpVerify.user.Zone,\n                district: this.props.otpVerify.user.District\n              }\n            });\n          }\n\n          if (this.props.otpVerify.user.role == 'DIG') {\n            localStorage.setItem('auth_token', this.props.otpVerify.user.token);\n            console.log(this.props.otpVerify.user);\n            localStorage.setItem('refresh_token', this.props.otpVerify.user.refreshtoken);\n            toast.success('Login Successful');\n            this.props.history.push({\n              pathname: '/registration-dashboard3',\n              state: {\n                role: this.props.otpVerify.user.role,\n                zone: this.props.otpVerify.user.Zone,\n                district: this.props.otpVerify.user.District\n              }\n            });\n          }\n\n          if (this.props.otpVerify.user.role == 'IGR') {\n            localStorage.setItem('auth_token', this.props.otpVerify.user.token);\n            console.log(this.props.otpVerify.user);\n            localStorage.setItem('refresh_token', this.props.otpVerify.user.refreshtoken);\n            toast.success('Login Successful');\n            this.props.history.push({\n              pathname: '/registration-dashboard',\n              state: {\n                role: this.props.otpVerify.user.role\n              }\n            });\n          }\n\n          if (this.props.otpVerify.user.role == 'admin') {\n            localStorage.setItem('auth_token', this.props.otpVerify.user.token);\n            console.log(this.props.otpVerify.user);\n            localStorage.setItem('refresh_token', this.props.otpVerify.user.refreshtoken);\n            toast.success('Login Successful');\n            this.props.history.push({\n              pathname: '/registration-dashboard',\n              state: {\n                role: this.props.otpVerify.user.role,\n                data: \"Login\"\n              }\n            });\n          }\n        }\n      }\n\n      if (prev.login_res != this.props.login_res) {\n        if (this.props.login_res.status == true) {\n          toast.success(\" Otp sent to your resgistered email Id\");\n        }\n      }\n\n      if (prev.login_res_err != this.props.login_res_err) {\n        toast.success(\" Otp Error\");\n      }\n    };\n\n    this.resendotp = () => {\n      const data = {\n        email: this.props.history.location.state.email,\n        password: this.props.history.location.state.pass\n      };\n      this.props.loginApi(data);\n    };\n\n    this.onPress = () => {\n      console.log('skrjghkh');\n    };\n\n    this.state = {\n      otp: \"\",\n      timmer: '',\n      time: new Date().toLocaleString(),\n      valid: false,\n      data: '',\n      minutes: 3,\n      seconds: 0\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n\n    if (this.props.history.location.state === undefined) {\n      this.props.history.push('/');\n    }\n\n    this.myInterval = setInterval(() => {\n      const {\n        seconds,\n        minutes\n      } = this.state;\n\n      if (seconds > 0) {\n        this.setState(({\n          seconds\n        }) => ({\n          seconds: seconds - 1\n        }));\n      }\n\n      if (seconds === 0) {\n        if (minutes === 0) {\n          clearInterval(this.myInterval);\n        } else {\n          this.setState(({\n            minutes\n          }) => ({\n            minutes: minutes - 1,\n            seconds: 59\n          }));\n        }\n      }\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.myInterval);\n  }\n\n  render() {\n    console.log(this.state);\n    console.log(this.props);\n    const {\n      minutes,\n      seconds\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-layout\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-sub-layout\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-7  login-titleRow\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: titleIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this), \" \\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  fontSize: '19px'\n                },\n                children: \"Blockchained Documents Of Registration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \" text\",\n                id: \"text\",\n                style: {\n                  fontSize: '17px',\n                  width: '76%'\n                },\n                children: \"All Tamil Nadu Registration documents secured by Tamil Nadu Blockchain backbone infrastructure.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-bannerImg\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: signin_bannerImg,\n                  id: \"sideImg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 21\n                }, this), \" \\xA0\\xA0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-5\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login-card\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-card-sub-layout\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-12 loginRow1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: loginIcon\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 33\n                    }, this), \" \\xA0\\xA0 \", /*#__PURE__*/_jsxDEV(\"label\", {\n                      style: {\n                        color: '#292828D8',\n                        fontSize: '19px',\n                        fontWeight: 'bold'\n                      },\n                      children: \"Sign In\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 70\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      style: {\n                        color: '#292828D8',\n                        fontSize: '17px',\n                        marginTop: '40px',\n                        fontWeight: '600'\n                      },\n                      children: \"Enter OTP from your Registered Email Id?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  style: {\n                    marginTop: '30px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"OtpBox\",\n                    onKeyPress: this.onPress,\n                    children: /*#__PURE__*/_jsxDEV(OTPInput, {\n                      value: this.state.otp,\n                      onChange: this.handleOtpChange,\n                      autoFocus: true,\n                      OTPLength: 6,\n                      otpType: \"number\",\n                      disabled: false,\n                      secure: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 72\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"rsndOtp\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    onClick: () => this.resendotp(),\n                    style: {\n                      color: '#377D22',\n                      fontSize: '17px',\n                      cursor: 'pointer'\n                    },\n                    children: \"Didn\\u2019t Receive Code Resend OTP?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row mt-5 mb-3 \",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-12 \",\n                    style: {\n                      display: 'flex'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => this.handleSubmitOtp(),\n                      className: \"login-submit\",\n                      type: \"submit\",\n                      style: {\n                        color: 'white',\n                        backgroundColor: '#20570F',\n                        border: 'none',\n                        borderRadius: '5px',\n                        padding: '5px 10px',\n                        fontWeight: 'bold'\n                      },\n                      children: \"Log In\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 33\n                    }, this), minutes === 0 && seconds === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n                      style: {\n                        fontSize: '17px',\n                        marginLeft: '10px',\n                        marginTop: '10px'\n                      },\n                      children: \"Times Up !\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 39\n                    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n                      style: {\n                        fontSize: '17px',\n                        marginLeft: '10px',\n                        marginTop: '10px'\n                      },\n                      children: [\"Time Remaining: \", minutes, \":\", seconds < 10 ? `0${seconds}` : seconds]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 39\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          style: {\n            marginTop: '2%',\n            marginLeft: '40%'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: Downlogo,\n              style: {\n                height: '25px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '13px',\n                marginLeft: '1%'\n              },\n              children: \"Powered By Nambikkai Inaiyam\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(state);\n  return {\n    otpVerify: state.login.otp_verify,\n    otp_verify_error: state.login.otp_verify_error,\n    login_res: state.login.login_response,\n    login_res_err: state.login.login_response_err\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    otpVerification,\n    loginApi\n  }, dispatch);\n}; // export default Login;\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn_OTP);\n\nvar _c;\n\n$RefreshReg$(_c, \"MySwal\");","map":{"version":3,"sources":["/home/user/Desktop/IGR/tnega-pratik/src/Pages/AuthPages/Otp.js"],"names":["React","Component","signin_bannerImg","Downlogo","OTPInput","ResendOTP","bindActionCreators","connect","otpVerification","toast","Swal","withReactContent","loginApi","CountdownCircleTimer","CryptoJS","configure","MySwal","SignIn_OTP","constructor","props","handleOtpChange","event","console","log","setState","otp","setErrors","error","errors","state","handleSubmitOtp","minutes","seconds","encryptconfigs","key","enc","Latin1","parse","iv","encryptedData","AES","encrypt","mode","CBC","padding","pad","Pkcs7","toString","encryptedDataemail","location","email","body","fire","then","history","push","componentDidUpdate","prev","otpVerify","status","user","role","localStorage","setItem","token","refreshtoken","success","pathname","zone","Zone","district","District","SRO","data","login_res","login_res_err","resendotp","password","pass","onPress","timmer","time","Date","toLocaleString","valid","componentDidMount","undefined","myInterval","setInterval","clearInterval","componentWillUnmount","render","titleIcon","fontSize","width","loginIcon","color","fontWeight","marginTop","cursor","display","backgroundColor","border","borderRadius","marginLeft","height","mapStateToProps","login","otp_verify","otp_verify_error","login_response","login_response_err","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport signin_bannerImg from '../../Assests/icon/signin_bannerImg.png'\r\nimport Downlogo from '../../Assests/icon/downlogo.png'\r\nimport titleIcon from '../../Assests/icon2/Bimg.svg'\r\nimport loginIcon from '../../Assests/icon2/loginIcon.svg'\r\nimport OTPInput, { ResendOTP } from \"otp-input-react\";\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport {otpVerification} from '../../store/Login/action'\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport { loginApi } from '../../store/Login/action'\r\nimport { CountdownCircleTimer } from 'react-countdown-circle-timer'\r\nimport * as CryptoJS from 'crypto-js'\r\n\r\ntoast.configure()\r\nconst MySwal = withReactContent(Swal);\r\n\r\nclass SignIn_OTP extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            otp: \"\",\r\n            timmer: '',\r\n            time: new Date().toLocaleString(),\r\n            valid: false,\r\n            data:'',\r\n            minutes: 3,\r\n            seconds: 0,\r\n        }\r\n    }\r\n\r\n   \r\n\r\n    componentDidMount() {\r\n        console.log(this.props)\r\n        if(this.props.history.location.state === undefined){\r\n          this.props.history.push('/')\r\n        }\r\n        this.myInterval = setInterval(() => {\r\n          const { seconds, minutes } = this.state\r\n\r\n          if (seconds > 0) {\r\n              this.setState(({ seconds }) => ({\r\n                  seconds: seconds - 1\r\n              }))\r\n          }\r\n          if (seconds === 0) {\r\n              if (minutes === 0) {\r\n                  clearInterval(this.myInterval)\r\n              } else {\r\n                  this.setState(({ minutes }) => ({\r\n                      minutes: minutes - 1,\r\n                      seconds: 59\r\n                  }))\r\n              }\r\n          } \r\n      }, 1000)\r\n\r\n      \r\n    }\r\n\r\n\r\n    handleOtpChange = (event) => {\r\n        console.log(event)\r\n        this.setState({\r\n            otp: event,\r\n        })\r\n    }\r\n \r\n\r\nsetErrors = error =>\r\n  this.setState({\r\n    errors: { ...this.state.errors, ...error }\r\n  });\r\n\r\n  handleSubmitOtp=()=>{\r\n    if(this.state.minutes !== 0 || this.state.seconds !== 0){\r\n      console.log(\"ok data\")\r\n      const encryptconfigs = {\r\n        \"key\": \"t700#zkrF@db0705\",\r\n        \"iv\": \"i700#zkrF@db0705\"\r\n      }\r\n      \r\n      var key = CryptoJS.enc.Latin1.parse(encryptconfigs.key);\r\n          var iv = CryptoJS.enc.Latin1.parse(encryptconfigs.iv);\r\n          var encryptedData = CryptoJS.AES.encrypt(this.state.otp, key,{\r\n            iv: iv,\r\n            mode: CryptoJS.mode.CBC,\r\n            padding: CryptoJS.pad.Pkcs7,\r\n          });\r\n         \r\n          encryptedData = encryptedData.toString()\r\n          console.log(encryptedData)\r\n\r\n          // var key = CryptoJS.enc.Latin1.parse(encryptconfigs.key);\r\n          // var iv = CryptoJS.enc.Latin1.parse(encryptconfigs.iv);\r\n          var encryptedDataemail = CryptoJS.AES.encrypt(this.props.location.state.email, key,{\r\n            iv: iv,\r\n            mode: CryptoJS.mode.CBC,\r\n            padding: CryptoJS.pad.Pkcs7,\r\n          });\r\n\r\n          encryptedDataemail = encryptedDataemail.toString()\r\n          console.log(encryptedDataemail)\r\n      \r\n      const body={\r\n          email: this.props.location.state.email,\r\n          otp : encryptedData\r\n      }\r\n      this.props.otpVerification(body)   \r\n    }else{\r\n      MySwal.fire('Times Up').then(() => this.props.history.push('/'))\r\n    }\r\n  }\r\n\r\n    componentDidUpdate = (prev) => {\r\n      if(prev.otpVerify !== this.props.otpVerify){\r\n        if (this.props.otpVerify.status == true) {\r\n          console.log(this.props.otpVerify.user)\r\n          if (this.props.otpVerify.user.role == 'SRO') {\r\n              localStorage.setItem('auth_token', this.props.otpVerify.user.token)\r\n              localStorage.setItem('refresh_token', this.props.otpVerify.user.refreshtoken)\r\n              toast.success('Login Successful');\r\n              this.props.history.push({\r\n                pathname: '/registration-dashboard4',\r\n                state: {\r\n                  role: this.props.otpVerify.user.role,\r\n                  zone: this.props.otpVerify.user.Zone,\r\n                  district: this.props.otpVerify.user.District,\r\n                  SRO: this.props.otpVerify.user.SRO,\r\n                },\r\n              })\r\n          }\r\n          if (this.props.otpVerify.user.role == 'DRO') {\r\n              localStorage.setItem('auth_token', this.props.otpVerify.user.token)\r\n              localStorage.setItem('refresh_token', this.props.otpVerify.user.refreshtoken)\r\n              toast.success('Login Successful');\r\n              this.props.history.push({\r\n                pathname: '/registration-dashboard2',\r\n                state: {\r\n                  role: this.props.otpVerify.user.role,\r\n                  zone: this.props.otpVerify.user.Zone,\r\n                  district: this.props.otpVerify.user.District,\r\n                },\r\n              })\r\n          }\r\n          if (this.props.otpVerify.user.role == 'DIG') {\r\n              localStorage.setItem('auth_token', this.props.otpVerify.user.token)\r\n              console.log(this.props.otpVerify.user)\r\n              localStorage.setItem('refresh_token', this.props.otpVerify.user.refreshtoken)\r\n              toast.success('Login Successful');\r\n              this.props.history.push({\r\n                pathname: '/registration-dashboard3',\r\n                state: {\r\n                  role: this.props.otpVerify.user.role,\r\n                  zone: this.props.otpVerify.user.Zone,\r\n                  district: this.props.otpVerify.user.District,\r\n                },\r\n              })\r\n          }\r\n          if (this.props.otpVerify.user.role == 'IGR') {\r\n              localStorage.setItem('auth_token', this.props.otpVerify.user.token)\r\n              console.log(this.props.otpVerify.user)\r\n              localStorage.setItem('refresh_token', this.props.otpVerify.user.refreshtoken)\r\n              toast.success('Login Successful');\r\n              this.props.history.push({\r\n                pathname: '/registration-dashboard',\r\n                state: { role: this.props.otpVerify.user.role },\r\n              })\r\n          }\r\n          if (this.props.otpVerify.user.role == 'admin') {\r\n              localStorage.setItem('auth_token', this.props.otpVerify.user.token)\r\n              console.log(this.props.otpVerify.user)\r\n              localStorage.setItem('refresh_token', this.props.otpVerify.user.refreshtoken)\r\n              toast.success('Login Successful');\r\n              this.props.history.push({\r\n                pathname: '/registration-dashboard',\r\n                state: { role: this.props.otpVerify.user.role,data:\"Login\" },\r\n              })\r\n          }\r\n          \r\n          \r\n        }\r\n      }\r\n      if (prev.login_res != this.props.login_res) {\r\n        if (this.props.login_res.status == true) {          \r\n          toast.success(\" Otp sent to your resgistered email Id\")\r\n        }\r\n      }\r\n\r\n      if (prev.login_res_err != this.props.login_res_err) {\r\n          toast.success(\" Otp Error\")\r\n      }\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n      clearInterval(this.myInterval)\r\n  }\r\n\r\n    resendotp = () => {\r\n      const data={\r\n        email:this.props.history.location.state.email,\r\n        password:this.props.history.location.state.pass\r\n      }\r\n      this.props.loginApi(data);\r\n    }\r\n\r\n    onPress=()=>{\r\n      console.log('skrjghkh')\r\n    }\r\n\r\n    render(){\r\n      \r\n      \r\n      console.log(this.state)\r\n      console.log(this.props)\r\n      const { minutes, seconds } = this.state\r\n        return (\r\n            <div className='login-layout'>\r\n            <div className='login-sub-layout'>\r\n              <div className='row mt-3'>\r\n                <div className='col-md-7  login-titleRow'>\r\n                  <div>\r\n                  <img src={titleIcon} /> &nbsp;&nbsp;\r\n                  <label style={{fontSize:'19px'}}>Blockchained Documents Of Registration</label>\r\n                  <div className=' text' id=\"text\" style={{fontSize:'17px',width:'76%'}}>\r\n                    All Tamil Nadu Registration documents secured by Tamil Nadu Blockchain backbone infrastructure.\r\n                  </div>\r\n                  <div className='login-bannerImg'>\r\n                    <img src={signin_bannerImg}  id=\"sideImg\"/> &nbsp;&nbsp;    \r\n                  </div>\r\n                  </div>\r\n                </div >\r\n                <div className='col-md-5'>\r\n                  <div className='login-card'>\r\n                    <div className='login-card-sub-layout'>\r\n                        <div className='row'>\r\n                            <div className='col-md-12 loginRow1'>\r\n                                <img src={loginIcon} /> &nbsp;&nbsp; <label style={{color:'#292828D8',fontSize:'19px',fontWeight:'bold'}}>Sign In</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className='row'>\r\n                            <div className='col-md-12'>\r\n                                <label style={{color:'#292828D8',fontSize:'17px',marginTop:'40px',fontWeight:'600'}}>Enter OTP from your Registered Email Id?</label>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\" style={{marginTop:'30px'}}>                            \r\n                            <div id=\"OtpBox\" onKeyPress={this.onPress}><OTPInput value={this.state.otp} onChange={this.handleOtpChange} autoFocus OTPLength={6} otpType=\"number\" disabled={false} secure /></div>\r\n                        </div>\r\n                        <div id=\"rsndOtp\" >\r\n                          <a onClick={() => this.resendotp()} style={{color:'#377D22',fontSize:'17px',cursor:'pointer'}}>Didnâ€™t Receive Code Resend OTP?</a>\r\n                        </div>\r\n                        <div className='row mt-5 mb-3 '>\r\n                            <div className='col-md-12 ' style={{display:'flex'}}>\r\n                                <button  onClick={() => this.handleSubmitOtp()} className='login-submit' type=\"submit\" style={{color:'white',backgroundColor:'#20570F',border:'none',borderRadius:'5px',padding:'5px 10px',fontWeight:'bold'}}>Log In</button>\r\n                                \r\n                                { minutes === 0 && seconds === 0\r\n                                    ? <h1 style={{fontSize: '17px',marginLeft: '10px',marginTop: '10px'}}>Times Up\r\n                                    !</h1>\r\n                                    : <h1 style={{fontSize: '17px',marginLeft: '10px',marginTop: '10px'}}>Time Remaining: {minutes}:{seconds < 10 ? `0${seconds}` : seconds}</h1>\r\n                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n                </div> \r\n              </div>\r\n              <div className=\"row\" style={{marginTop:'2%',marginLeft:'40%'}}>                    \r\n                <div style={{display: 'flex'}}>\r\n                  <img src={Downlogo} style={{height:'25px'}}/>\r\n                  <p style={{fontSize:'13px',marginLeft:'1%'}}>Powered By Nambikkai Inaiyam</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(state)\r\n    return {\r\n      otpVerify:state.login.otp_verify,\r\n      otp_verify_error: state.login.otp_verify_error,\r\n      login_res: state.login.login_response,\r\n      login_res_err: state.login.login_response_err,\r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators(\r\n      {\r\n        otpVerification,\r\n        loginApi\r\n      },\r\n      dispatch,\r\n    )\r\n  }\r\n  \r\n  // export default Login;\r\n  export default connect(mapStateToProps, mapDispatchToProps)(SignIn_OTP)\r\n  \r\n"]},"metadata":{},"sourceType":"module"}