{"ast":null,"code":"import axios from'axios';import{devURLTnega}from'../../utilities/config';import{GET_ALL_MASTER_DATA,GET_ALL_ZONES,GET_ALL_DISTRICT,GET_MIS_REPORT,BATCH_REPORT_ROW,GET_MIS_REPORT_BY_ID,LOGOUT_DATA}from'./types';import Swal from'sweetalert2';import withReactContent from'sweetalert2-react-content';var MySwal=withReactContent(Swal);var authtoken=localStorage.getItem('auth_token');console.log(localStorage.getItem('auth_token'));export var getallMasterApi=function getallMasterApi(){return function(dispatch){var API_URL=\"\".concat(devURLTnega,\"api/master/districtsro \");axios.get(API_URL,{headers:{Authorization:'Bearer '+authtoken}}).then(function(res){return res.data;}).then(function(response){console.log('200 - ',response);if(response.status==true){dispatch({type:GET_ALL_MASTER_DATA,payload:response});}}).catch(function(err){console.log(err.response);if(err.response.status==401){var data={refreshToken:localStorage.getItem('refresh_token')};axios.post(\"\".concat(devURLTnega,\"api/users/auth/token\"),data).then(function(res){localStorage.setItem('authorization',res.data.token);localStorage.setItem('refreshToken',res.data.refreshToken);}).catch(function(err){var data={email:localStorage.getItem('email_id'),refreshToken:localStorage.getItem('refreshToken')};axios.post('http://3.110.180.81:3000/api/users/logout',data).then(function(res){localStorage.clear();dispatch({type:LOGOUT_DATA,payload:res});});});}if(err.response.data.message==\"Login Failed\"){Swal.fire(\"Login\",\"Failed\",\"error\");}});};};export var getZones=function getZones(){return function(dispatch){var API_URL=\"\".concat(devURLTnega,\"api/master/getallzone\");axios.get(API_URL,{headers:{Authorization:'Bearer '+authtoken}}).then(function(res){return res.data;}).then(function(response){console.log('200 - ',response);// if(response.status==true){\ndispatch({type:GET_ALL_ZONES,payload:response});// }\n}).catch(function(err){console.log(err.response);if(err.response.status==401){var data={refreshToken:localStorage.getItem('refresh_token')};axios.post(\"\".concat(devURLTnega,\"api/users/auth/token\"),data).then(function(res){localStorage.setItem('authorization',res.data.token);localStorage.setItem('refreshToken',res.data.refreshToken);}).catch(function(err){var data={email:localStorage.getItem('email_id'),refreshToken:localStorage.getItem('refreshToken')};axios.post('http://3.110.180.81:3000/api/users/logout',data).then(function(res){localStorage.clear();dispatch({type:LOGOUT_DATA,payload:res});});});}if(err.response.data.message==\"Login Failed\"){Swal.fire(\"Login\",\"Failed\",\"error\");}});};};export var getDistrict=function getDistrict(){return function(dispatch){var API_URL=\"\".concat(devURLTnega,\"api/master/getdistrictzone\");axios.get(API_URL,{headers:{Authorization:'Bearer '+authtoken}}).then(function(res){return res.data;}).then(function(response){console.log('200 - ',response);// if(response.status==true){\ndispatch({type:GET_ALL_DISTRICT,payload:response});// }\n}).catch(function(err){console.log(err.response);if(err.response.status==401){var data={refreshToken:localStorage.getItem('refresh_token')};axios.post(\"\".concat(devURLTnega,\"api/users/auth/token\"),data).then(function(res){localStorage.setItem('authorization',res.data.token);localStorage.setItem('refreshToken',res.data.refreshToken);}).catch(function(err){var data={email:localStorage.getItem('email_id'),refreshToken:localStorage.getItem('refreshToken')};axios.post('http://3.110.180.81:3000/api/users/logout',data).then(function(res){localStorage.clear();dispatch({type:LOGOUT_DATA,payload:res});});});}if(err.response.data.message==\"Login Failed\"){Swal.fire(\"Login\",\"Failed\",\"error\");}});};};export var misReport=function misReport(){return function(dispatch){var API_URL=\"\".concat(devURLTnega,\"api/dashboard/batchverification\");axios.get(API_URL,{headers:{Authorization:'Bearer '+authtoken}}).then(function(res){return res.data;}).then(function(response){console.log('200 - ',response);// if(response.status==200){\ndispatch({type:GET_MIS_REPORT,payload:response});// }\n}).catch(function(err){console.log(err.response);if(err.response.status==401){var data={refreshToken:localStorage.getItem('refresh_token')};axios.post(\"\".concat(devURLTnega,\"api/users/auth/token\"),data).then(function(res){localStorage.setItem('authorization',res.data.token);localStorage.setItem('refreshToken',res.data.refreshToken);}).catch(function(err){var data={email:localStorage.getItem('email_id'),refreshToken:localStorage.getItem('refreshToken')};axios.post('http://3.110.180.81:3000/api/users/logout',data).then(function(res){localStorage.clear();dispatch({type:LOGOUT_DATA,payload:res});});});}if(err.response.data.message==\"Login Failed\"){Swal.fire(\"Login\",\"Failed\",\"error\");}});};};export var batchVerify=function batchVerify(id){return function(dispatch){var API_URL=\"\".concat(devURLTnega,\"api/dashboard/batchverification/\").concat(id);axios.get(API_URL,{headers:{Authorization:'Bearer '+authtoken}}).then(function(res){return res.data;}).then(function(response){console.log('200 - ',response);// if(response.status==true){\ndispatch({type:GET_MIS_REPORT_BY_ID,payload:response});// }\n}).catch(function(err){console.log(err.response);if(err.response.status==401){var data={refreshToken:localStorage.getItem('refresh_token')};axios.post(\"\".concat(devURLTnega,\"api/users/auth/token\"),data).then(function(res){localStorage.setItem('authorization',res.data.token);localStorage.setItem('refreshToken',res.data.refreshToken);}).catch(function(err){var data={email:localStorage.getItem('email_id'),refreshToken:localStorage.getItem('refreshToken')};axios.post('http://3.110.180.81:3000/api/users/logout',data).then(function(res){localStorage.clear();dispatch({type:LOGOUT_DATA,payload:res});});});}if(err.response.data.message==\"Login Failed\"){Swal.fire(\"Login\",\"Failed\",\"error\");}});};};export var sendDataToRedux=function sendDataToRedux(data){return function(dispatch){dispatch({type:BATCH_REPORT_ROW,payload:data});};};","map":{"version":3,"sources":["/home/user/Desktop/IGR/tnega-pratik/src/store/DRO/action.js"],"names":["axios","devURLTnega","GET_ALL_MASTER_DATA","GET_ALL_ZONES","GET_ALL_DISTRICT","GET_MIS_REPORT","BATCH_REPORT_ROW","GET_MIS_REPORT_BY_ID","LOGOUT_DATA","Swal","withReactContent","MySwal","authtoken","localStorage","getItem","console","log","getallMasterApi","dispatch","API_URL","get","headers","Authorization","then","res","data","response","status","type","payload","catch","err","refreshToken","post","setItem","token","email","clear","message","fire","getZones","getDistrict","misReport","batchVerify","id","sendDataToRedux"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OACEC,mBADF,CAEEC,aAFF,CAGEC,gBAHF,CAIEC,cAJF,CAKEC,gBALF,CAMEC,oBANF,CAOEC,WAPF,KAQO,SARP,CASA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,2BAA7B,CACA,GAAMC,CAAAA,MAAM,CAAGD,gBAAgB,CAACD,IAAD,CAA/B,CAGA,GAAIG,CAAAA,SAAS,CAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAhB,CACAC,OAAO,CAACC,GAAR,CAAYH,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAZ,EAIA,MAAO,IAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,SAAM,UAACC,QAAD,CAAc,CACjD,GAAMC,CAAAA,OAAO,WAAMlB,WAAN,2BAAb,CACAD,KAAK,CACFoB,GADH,CACOD,OADP,CACgB,CACZE,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYV,SADpB,CADG,CADhB,EAMGW,IANH,CAMQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAb,EANR,EAOGF,IAPH,CAOQ,SAACG,QAAD,CAAc,CAClBX,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBU,QAAtB,EACA,GAAIA,QAAQ,CAACC,MAAT,EAAmB,IAAvB,CAA6B,CAC3BT,QAAQ,CAAC,CAAEU,IAAI,CAAE1B,mBAAR,CAA6B2B,OAAO,CAAEH,QAAtC,CAAD,CAAR,CACD,CACF,CAZH,EAaGI,KAbH,CAaS,SAACC,GAAD,CAAS,CACdhB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACL,QAAhB,EACA,GAAGK,GAAG,CAACL,QAAJ,CAAaC,MAAb,EAAuB,GAA1B,CAA8B,CAE5B,GAAMF,CAAAA,IAAI,CAAE,CACVO,YAAY,CAAEnB,YAAY,CAACC,OAAb,CAAqB,eAArB,CADJ,CAAZ,CAGAd,KAAK,CAACiC,IAAN,WAAchC,WAAd,yBAAgDwB,IAAhD,EACCF,IADD,CACM,SAACC,GAAD,CAAS,CAEbX,YAAY,CAACqB,OAAb,CAAqB,eAArB,CAAqCV,GAAG,CAACC,IAAJ,CAASU,KAA9C,EACAtB,YAAY,CAACqB,OAAb,CAAqB,cAArB,CAAoCV,GAAG,CAACC,IAAJ,CAASO,YAA7C,EACD,CALD,EAMCF,KAND,CAMO,SAACC,GAAD,CAAS,CACd,GAAMN,CAAAA,IAAI,CAAC,CACTW,KAAK,CAAEvB,YAAY,CAACC,OAAb,CAAqB,UAArB,CADE,CAETkB,YAAY,CAACnB,YAAY,CAACC,OAAb,CAAqB,cAArB,CAFJ,CAAX,CAIAd,KAAK,CAACiC,IAAN,CAAW,2CAAX,CAAuDR,IAAvD,EACCF,IADD,CACM,SAACC,GAAD,CAAS,CACbX,YAAY,CAACwB,KAAb,GACAnB,QAAQ,CAAC,CAACU,IAAI,CAACpB,WAAN,CAAmBqB,OAAO,CAACL,GAA3B,CAAD,CAAR,CACD,CAJD,EAKD,CAhBD,EAiBD,CACH,GAAGO,GAAG,CAACL,QAAJ,CAAaD,IAAb,CAAkBa,OAAlB,EAA2B,cAA9B,CAA6C,CACzC7B,IAAI,CAAC8B,IAAL,CAAU,OAAV,CAAkB,QAAlB,CAA2B,OAA3B,EACH,CACA,CAzCH,EA0CD,CA5C8B,EAAxB,CA8CP,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,SAAM,UAACtB,QAAD,CAAc,CAC1C,GAAMC,CAAAA,OAAO,WAAMlB,WAAN,yBAAb,CACAD,KAAK,CACFoB,GADH,CACOD,OADP,CACgB,CACZE,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYV,SADpB,CADG,CADhB,EAMGW,IANH,CAMQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAb,EANR,EAOGF,IAPH,CAOQ,SAACG,QAAD,CAAc,CAClBX,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBU,QAAtB,EACA;AACAR,QAAQ,CAAC,CAAEU,IAAI,CAAEzB,aAAR,CAAuB0B,OAAO,CAAEH,QAAhC,CAAD,CAAR,CACA;AACD,CAZH,EAaGI,KAbH,CAaS,SAACC,GAAD,CAAS,CACdhB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACL,QAAhB,EACA,GAAGK,GAAG,CAACL,QAAJ,CAAaC,MAAb,EAAuB,GAA1B,CAA8B,CAE5B,GAAMF,CAAAA,IAAI,CAAE,CACVO,YAAY,CAAEnB,YAAY,CAACC,OAAb,CAAqB,eAArB,CADJ,CAAZ,CAGAd,KAAK,CAACiC,IAAN,WAAchC,WAAd,yBAAgDwB,IAAhD,EACCF,IADD,CACM,SAACC,GAAD,CAAS,CAEbX,YAAY,CAACqB,OAAb,CAAqB,eAArB,CAAqCV,GAAG,CAACC,IAAJ,CAASU,KAA9C,EACAtB,YAAY,CAACqB,OAAb,CAAqB,cAArB,CAAoCV,GAAG,CAACC,IAAJ,CAASO,YAA7C,EACD,CALD,EAMCF,KAND,CAMO,SAACC,GAAD,CAAS,CACd,GAAMN,CAAAA,IAAI,CAAC,CACTW,KAAK,CAAEvB,YAAY,CAACC,OAAb,CAAqB,UAArB,CADE,CAETkB,YAAY,CAACnB,YAAY,CAACC,OAAb,CAAqB,cAArB,CAFJ,CAAX,CAIAd,KAAK,CAACiC,IAAN,CAAW,2CAAX,CAAuDR,IAAvD,EACCF,IADD,CACM,SAACC,GAAD,CAAS,CACbX,YAAY,CAACwB,KAAb,GACAnB,QAAQ,CAAC,CAACU,IAAI,CAACpB,WAAN,CAAmBqB,OAAO,CAACL,GAA3B,CAAD,CAAR,CACD,CAJD,EAKD,CAhBD,EAiBD,CACH,GAAGO,GAAG,CAACL,QAAJ,CAAaD,IAAb,CAAkBa,OAAlB,EAA2B,cAA9B,CAA6C,CACzC7B,IAAI,CAAC8B,IAAL,CAAU,OAAV,CAAkB,QAAlB,CAA2B,OAA3B,EACH,CACA,CAzCH,EA0CD,CA5CuB,EAAjB,CA8CP,MAAO,IAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAM,UAACvB,QAAD,CAAc,CAC7C,GAAMC,CAAAA,OAAO,WAAMlB,WAAN,8BAAb,CACAD,KAAK,CACFoB,GADH,CACOD,OADP,CACgB,CACZE,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYV,SADpB,CADG,CADhB,EAMGW,IANH,CAMQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAb,EANR,EAOGF,IAPH,CAOQ,SAACG,QAAD,CAAc,CAClBX,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBU,QAAtB,EACA;AACAR,QAAQ,CAAC,CAAEU,IAAI,CAAExB,gBAAR,CAA0ByB,OAAO,CAAEH,QAAnC,CAAD,CAAR,CACA;AACD,CAZH,EAaGI,KAbH,CAaS,SAACC,GAAD,CAAS,CACdhB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACL,QAAhB,EACA,GAAGK,GAAG,CAACL,QAAJ,CAAaC,MAAb,EAAuB,GAA1B,CAA8B,CAE5B,GAAMF,CAAAA,IAAI,CAAE,CACVO,YAAY,CAAEnB,YAAY,CAACC,OAAb,CAAqB,eAArB,CADJ,CAAZ,CAGAd,KAAK,CAACiC,IAAN,WAAchC,WAAd,yBAAgDwB,IAAhD,EACCF,IADD,CACM,SAACC,GAAD,CAAS,CAEbX,YAAY,CAACqB,OAAb,CAAqB,eAArB,CAAqCV,GAAG,CAACC,IAAJ,CAASU,KAA9C,EACAtB,YAAY,CAACqB,OAAb,CAAqB,cAArB,CAAoCV,GAAG,CAACC,IAAJ,CAASO,YAA7C,EACD,CALD,EAMCF,KAND,CAMO,SAACC,GAAD,CAAS,CACd,GAAMN,CAAAA,IAAI,CAAC,CACTW,KAAK,CAAEvB,YAAY,CAACC,OAAb,CAAqB,UAArB,CADE,CAETkB,YAAY,CAACnB,YAAY,CAACC,OAAb,CAAqB,cAArB,CAFJ,CAAX,CAIAd,KAAK,CAACiC,IAAN,CAAW,2CAAX,CAAuDR,IAAvD,EACCF,IADD,CACM,SAACC,GAAD,CAAS,CACbX,YAAY,CAACwB,KAAb,GACAnB,QAAQ,CAAC,CAACU,IAAI,CAACpB,WAAN,CAAmBqB,OAAO,CAACL,GAA3B,CAAD,CAAR,CACD,CAJD,EAKD,CAhBD,EAiBD,CACH,GAAGO,GAAG,CAACL,QAAJ,CAAaD,IAAb,CAAkBa,OAAlB,EAA2B,cAA9B,CAA6C,CACzC7B,IAAI,CAAC8B,IAAL,CAAU,OAAV,CAAkB,QAAlB,CAA2B,OAA3B,EACH,CACA,CAzCH,EA0CD,CA5C0B,EAApB,CA8CP,MAAO,IAAMG,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,SAAM,UAACxB,QAAD,CAAc,CAC3C,GAAMC,CAAAA,OAAO,WAAMlB,WAAN,mCAAb,CACAD,KAAK,CACFoB,GADH,CACOD,OADP,CACgB,CACZE,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYV,SADpB,CADG,CADhB,EAMGW,IANH,CAMQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAb,EANR,EAOGF,IAPH,CAOQ,SAACG,QAAD,CAAc,CAClBX,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBU,QAAtB,EACA;AACAR,QAAQ,CAAC,CAAEU,IAAI,CAAEvB,cAAR,CAAwBwB,OAAO,CAAEH,QAAjC,CAAD,CAAR,CACA;AACD,CAZH,EAaGI,KAbH,CAaS,SAACC,GAAD,CAAS,CACdhB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACL,QAAhB,EACA,GAAGK,GAAG,CAACL,QAAJ,CAAaC,MAAb,EAAuB,GAA1B,CAA8B,CAE5B,GAAMF,CAAAA,IAAI,CAAE,CACVO,YAAY,CAAEnB,YAAY,CAACC,OAAb,CAAqB,eAArB,CADJ,CAAZ,CAGAd,KAAK,CAACiC,IAAN,WAAchC,WAAd,yBAAgDwB,IAAhD,EACCF,IADD,CACM,SAACC,GAAD,CAAS,CAEbX,YAAY,CAACqB,OAAb,CAAqB,eAArB,CAAqCV,GAAG,CAACC,IAAJ,CAASU,KAA9C,EACAtB,YAAY,CAACqB,OAAb,CAAqB,cAArB,CAAoCV,GAAG,CAACC,IAAJ,CAASO,YAA7C,EACD,CALD,EAMCF,KAND,CAMO,SAACC,GAAD,CAAS,CACd,GAAMN,CAAAA,IAAI,CAAC,CACTW,KAAK,CAAEvB,YAAY,CAACC,OAAb,CAAqB,UAArB,CADE,CAETkB,YAAY,CAACnB,YAAY,CAACC,OAAb,CAAqB,cAArB,CAFJ,CAAX,CAIAd,KAAK,CAACiC,IAAN,CAAW,2CAAX,CAAuDR,IAAvD,EACCF,IADD,CACM,SAACC,GAAD,CAAS,CACbX,YAAY,CAACwB,KAAb,GACAnB,QAAQ,CAAC,CAACU,IAAI,CAACpB,WAAN,CAAmBqB,OAAO,CAACL,GAA3B,CAAD,CAAR,CACD,CAJD,EAKD,CAhBD,EAiBD,CACH,GAAGO,GAAG,CAACL,QAAJ,CAAaD,IAAb,CAAkBa,OAAlB,EAA2B,cAA9B,CAA6C,CACzC7B,IAAI,CAAC8B,IAAL,CAAU,OAAV,CAAkB,QAAlB,CAA2B,OAA3B,EACH,CACA,CAzCH,EA0CD,CA5CwB,EAAlB,CA8CP,MAAO,IAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,QAAQ,UAAC1B,QAAD,CAAc,CAC/C,GAAMC,CAAAA,OAAO,WAAMlB,WAAN,4CAAoD2C,EAApD,CAAb,CACA5C,KAAK,CACFoB,GADH,CACOD,OADP,CACgB,CACZE,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYV,SADpB,CADG,CADhB,EAMGW,IANH,CAMQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAb,EANR,EAOGF,IAPH,CAOQ,SAACG,QAAD,CAAc,CAClBX,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBU,QAAtB,EACA;AACAR,QAAQ,CAAC,CAAEU,IAAI,CAAErB,oBAAR,CAA8BsB,OAAO,CAAEH,QAAvC,CAAD,CAAR,CACA;AACD,CAZH,EAaGI,KAbH,CAaS,SAACC,GAAD,CAAS,CACdhB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACL,QAAhB,EACA,GAAGK,GAAG,CAACL,QAAJ,CAAaC,MAAb,EAAuB,GAA1B,CAA8B,CAE5B,GAAMF,CAAAA,IAAI,CAAE,CACVO,YAAY,CAAEnB,YAAY,CAACC,OAAb,CAAqB,eAArB,CADJ,CAAZ,CAGAd,KAAK,CAACiC,IAAN,WAAchC,WAAd,yBAAgDwB,IAAhD,EACCF,IADD,CACM,SAACC,GAAD,CAAS,CAEbX,YAAY,CAACqB,OAAb,CAAqB,eAArB,CAAqCV,GAAG,CAACC,IAAJ,CAASU,KAA9C,EACAtB,YAAY,CAACqB,OAAb,CAAqB,cAArB,CAAoCV,GAAG,CAACC,IAAJ,CAASO,YAA7C,EACD,CALD,EAMCF,KAND,CAMO,SAACC,GAAD,CAAS,CACd,GAAMN,CAAAA,IAAI,CAAC,CACTW,KAAK,CAAEvB,YAAY,CAACC,OAAb,CAAqB,UAArB,CADE,CAETkB,YAAY,CAACnB,YAAY,CAACC,OAAb,CAAqB,cAArB,CAFJ,CAAX,CAIAd,KAAK,CAACiC,IAAN,CAAW,2CAAX,CAAuDR,IAAvD,EACCF,IADD,CACM,SAACC,GAAD,CAAS,CACbX,YAAY,CAACwB,KAAb,GACAnB,QAAQ,CAAC,CAACU,IAAI,CAACpB,WAAN,CAAmBqB,OAAO,CAACL,GAA3B,CAAD,CAAR,CACD,CAJD,EAKD,CAhBD,EAiBD,CACH,GAAGO,GAAG,CAACL,QAAJ,CAAaD,IAAb,CAAkBa,OAAlB,EAA2B,cAA9B,CAA6C,CACzC7B,IAAI,CAAC8B,IAAL,CAAU,OAAV,CAAkB,QAAlB,CAA2B,OAA3B,EACH,CACA,CAzCH,EA0CD,CA5C0B,EAApB,CA8CP,MAAO,IAAMM,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACpB,IAAD,QAAU,UAACP,QAAD,CAAc,CACrDA,QAAQ,CAAC,CAAEU,IAAI,CAAEtB,gBAAR,CAA0BuB,OAAO,CAAEJ,IAAnC,CAAD,CAAR,CACD,CAF8B,EAAxB","sourcesContent":["import axios from 'axios'\r\nimport { devURLTnega } from '../../utilities/config'\r\nimport {\r\n  GET_ALL_MASTER_DATA,\r\n  GET_ALL_ZONES,\r\n  GET_ALL_DISTRICT,\r\n  GET_MIS_REPORT,\r\n  BATCH_REPORT_ROW,\r\n  GET_MIS_REPORT_BY_ID,\r\n  LOGOUT_DATA,\r\n} from './types'\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nconst MySwal = withReactContent(Swal)\r\n\r\n\r\nlet authtoken = localStorage.getItem('auth_token')\r\nconsole.log(localStorage.getItem('auth_token'))\r\n\r\n\r\n\r\nexport const getallMasterApi = () => (dispatch) => {\r\n  const API_URL = `${devURLTnega}api/master/districtsro `\r\n  axios\r\n    .get(API_URL, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + authtoken,\r\n      },\r\n    })\r\n    .then((res) => res.data)\r\n    .then((response) => {\r\n      console.log('200 - ', response)\r\n      if (response.status == true) {\r\n        dispatch({ type: GET_ALL_MASTER_DATA, payload: response })\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response)\r\n      if(err.response.status == 401){\r\n\r\n        const data ={\r\n          refreshToken: localStorage.getItem('refresh_token')\r\n        }\r\n        axios.post(`${devURLTnega}api/users/auth/token`,data)\r\n        .then((res) => {\r\n          \r\n          localStorage.setItem('authorization',res.data.token)\r\n          localStorage.setItem('refreshToken',res.data.refreshToken)  \r\n        })\r\n        .catch((err) => {\r\n          const data={\r\n            email: localStorage.getItem('email_id'),\r\n            refreshToken:localStorage.getItem('refreshToken'),\r\n          }\r\n          axios.post('http://3.110.180.81:3000/api/users/logout',data)\r\n          .then((res) => {\r\n            localStorage.clear()\r\n            dispatch({type:LOGOUT_DATA, payload:res})\r\n          })\r\n        })\r\n      }\r\n    if(err.response.data.message==\"Login Failed\"){\r\n        Swal.fire(\"Login\",\"Failed\",\"error\");\r\n    }\r\n    })\r\n}\r\n\r\nexport const getZones = () => (dispatch) => {\r\n  const API_URL = `${devURLTnega}api/master/getallzone`\r\n  axios\r\n    .get(API_URL, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + authtoken,\r\n      },\r\n    })\r\n    .then((res) => res.data)\r\n    .then((response) => {\r\n      console.log('200 - ', response)\r\n      // if(response.status==true){\r\n      dispatch({ type: GET_ALL_ZONES, payload: response })\r\n      // }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response)\r\n      if(err.response.status == 401){\r\n\r\n        const data ={\r\n          refreshToken: localStorage.getItem('refresh_token')\r\n        }\r\n        axios.post(`${devURLTnega}api/users/auth/token`,data)\r\n        .then((res) => {\r\n          \r\n          localStorage.setItem('authorization',res.data.token)\r\n          localStorage.setItem('refreshToken',res.data.refreshToken)  \r\n        })\r\n        .catch((err) => {\r\n          const data={\r\n            email: localStorage.getItem('email_id'),\r\n            refreshToken:localStorage.getItem('refreshToken'),\r\n          }\r\n          axios.post('http://3.110.180.81:3000/api/users/logout',data)\r\n          .then((res) => {\r\n            localStorage.clear()\r\n            dispatch({type:LOGOUT_DATA, payload:res})\r\n          })\r\n        })\r\n      }\r\n    if(err.response.data.message==\"Login Failed\"){\r\n        Swal.fire(\"Login\",\"Failed\",\"error\");\r\n    }\r\n    })\r\n}\r\n\r\nexport const getDistrict = () => (dispatch) => {\r\n  const API_URL = `${devURLTnega}api/master/getdistrictzone`\r\n  axios\r\n    .get(API_URL, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + authtoken,\r\n      },\r\n    })\r\n    .then((res) => res.data)\r\n    .then((response) => {\r\n      console.log('200 - ', response)\r\n      // if(response.status==true){\r\n      dispatch({ type: GET_ALL_DISTRICT, payload: response })\r\n      // }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response)\r\n      if(err.response.status == 401){\r\n\r\n        const data ={\r\n          refreshToken: localStorage.getItem('refresh_token')\r\n        }\r\n        axios.post(`${devURLTnega}api/users/auth/token`,data)\r\n        .then((res) => {\r\n          \r\n          localStorage.setItem('authorization',res.data.token)\r\n          localStorage.setItem('refreshToken',res.data.refreshToken)  \r\n        })\r\n        .catch((err) => {\r\n          const data={\r\n            email: localStorage.getItem('email_id'),\r\n            refreshToken:localStorage.getItem('refreshToken'),\r\n          }\r\n          axios.post('http://3.110.180.81:3000/api/users/logout',data)\r\n          .then((res) => {\r\n            localStorage.clear()\r\n            dispatch({type:LOGOUT_DATA, payload:res})\r\n          })\r\n        })\r\n      }\r\n    if(err.response.data.message==\"Login Failed\"){\r\n        Swal.fire(\"Login\",\"Failed\",\"error\");\r\n    }\r\n    })\r\n}\r\n\r\nexport const misReport = () => (dispatch) => {\r\n  const API_URL = `${devURLTnega}api/dashboard/batchverification`\r\n  axios\r\n    .get(API_URL, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + authtoken,\r\n      },\r\n    })\r\n    .then((res) => res.data)\r\n    .then((response) => {\r\n      console.log('200 - ', response)\r\n      // if(response.status==200){\r\n      dispatch({ type: GET_MIS_REPORT, payload: response })\r\n      // }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response)\r\n      if(err.response.status == 401){\r\n\r\n        const data ={\r\n          refreshToken: localStorage.getItem('refresh_token')\r\n        }\r\n        axios.post(`${devURLTnega}api/users/auth/token`,data)\r\n        .then((res) => {\r\n          \r\n          localStorage.setItem('authorization',res.data.token)\r\n          localStorage.setItem('refreshToken',res.data.refreshToken)  \r\n        })\r\n        .catch((err) => {\r\n          const data={\r\n            email: localStorage.getItem('email_id'),\r\n            refreshToken:localStorage.getItem('refreshToken'),\r\n          }\r\n          axios.post('http://3.110.180.81:3000/api/users/logout',data)\r\n          .then((res) => {\r\n            localStorage.clear()\r\n            dispatch({type:LOGOUT_DATA, payload:res})\r\n          })\r\n        })\r\n      }\r\n    if(err.response.data.message==\"Login Failed\"){\r\n        Swal.fire(\"Login\",\"Failed\",\"error\");\r\n    }\r\n    })\r\n}\r\n\r\nexport const batchVerify = (id) => (dispatch) => {\r\n  const API_URL = `${devURLTnega}api/dashboard/batchverification/${id}`\r\n  axios\r\n    .get(API_URL, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + authtoken,\r\n      },\r\n    })\r\n    .then((res) => res.data)\r\n    .then((response) => {\r\n      console.log('200 - ', response)\r\n      // if(response.status==true){\r\n      dispatch({ type: GET_MIS_REPORT_BY_ID, payload: response })\r\n      // }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err.response)\r\n      if(err.response.status == 401){\r\n\r\n        const data ={\r\n          refreshToken: localStorage.getItem('refresh_token')\r\n        }\r\n        axios.post(`${devURLTnega}api/users/auth/token`,data)\r\n        .then((res) => {\r\n          \r\n          localStorage.setItem('authorization',res.data.token)\r\n          localStorage.setItem('refreshToken',res.data.refreshToken)  \r\n        })\r\n        .catch((err) => {\r\n          const data={\r\n            email: localStorage.getItem('email_id'),\r\n            refreshToken:localStorage.getItem('refreshToken'),\r\n          }\r\n          axios.post('http://3.110.180.81:3000/api/users/logout',data)\r\n          .then((res) => {\r\n            localStorage.clear()\r\n            dispatch({type:LOGOUT_DATA, payload:res})\r\n          })\r\n        })\r\n      }\r\n    if(err.response.data.message==\"Login Failed\"){\r\n        Swal.fire(\"Login\",\"Failed\",\"error\");\r\n    }\r\n    })\r\n}\r\n\r\nexport const sendDataToRedux = (data) => (dispatch) => {\r\n  dispatch({ type: BATCH_REPORT_ROW, payload: data })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}