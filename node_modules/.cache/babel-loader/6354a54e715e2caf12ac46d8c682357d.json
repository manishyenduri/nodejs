{"ast":null,"code":"import e, { Component as t } from \"react\";\nimport n from \"prop-types\";\n\nfunction r(e, t) {\n  for (var n = 0; n < t.length; n++) {\n    var r = t[n];\n    r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n  }\n}\n\nfunction a(e, t, n) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: n,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = n, e;\n}\n\nfunction o(e) {\n  return (o = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  })(e);\n}\n\nfunction i(e, t) {\n  return (i = Object.setPrototypeOf || function (e, t) {\n    return e.__proto__ = t, e;\n  })(e, t);\n}\n\nfunction c(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\n\nvar s = \"style_captchaContainer__LdFYB\",\n    l = \"style_retryButton__2gxEO\";\n!function (e, t) {\n  void 0 === t && (t = {});\n  var n = t.insertAt;\n\n  if (e && \"undefined\" != typeof document) {\n    var r = document.head || document.getElementsByTagName(\"head\")[0],\n        a = document.createElement(\"style\");\n    a.type = \"text/css\", \"top\" === n && r.firstChild ? r.insertBefore(a, r.firstChild) : r.appendChild(a), a.styleSheet ? a.styleSheet.cssText = e : a.appendChild(document.createTextNode(e));\n  }\n}(\".style_captchaContainer__LdFYB {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.style_retryButton__2gxEO {\\n  border: none;\\n  margin: 0 0 0 16px;\\n  padding: 0;\\n  width: auto;\\n  overflow: visible;\\n  background: transparent;\\n  color: inherit;\\n  font: inherit;\\n  line-height: normal;\\n  -webkit-font-smoothing: inherit;\\n  -moz-osx-font-smoothing: inherit;\\n  -webkit-appearance: none;\\n  outline: none;\\n  text-align: inherit;\\n}\\n\", {\n  insertAt: \"top\"\n});\n\nvar u = function (n) {\n  function s(t) {\n    var n, r, i;\n    return function (e, t) {\n      if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n    }(this, s), r = this, i = o(s).call(this, t), n = !i || \"object\" != typeof i && \"function\" != typeof i ? c(r) : i, a(c(n), \"generateCode\", function () {\n      for (var e = n.props, t = e.chars, r = e.charsCount, a = [], o = 0; o < r; o += 1) {\n        var i = Math.ceil(Math.random() * t.length);\n        t[i] && -1 === a.indexOf(t[i]) ? a.push(t[i]) : o -= 1;\n      }\n\n      return a.join(\"\");\n    }), a(c(n), \"resetCaptcha\", function (e) {\n      e.preventDefault(), n.generateCaptcha();\n    }), a(c(n), \"generateCaptcha\", function () {\n      var e = n.props,\n          t = e.width,\n          r = e.height,\n          a = e.fontSize,\n          o = e.captchaCode,\n          i = e.backgroundColor,\n          c = e.fontFamily,\n          s = e.fontColor;\n      n.captchaCode = n.generateCode();\n      var l = n.canvasRef.current.getContext(\"2d\");\n      l.fillStyle = i, l.fillRect(0, 0, t, r), l.font = \"\".concat(a, \"px \").concat(c), l.textAlign = \"center\", l.textBaseline = \"middle\", l.fillStyle = s, l.fillText(n.captchaCode.split(\"\").join(\" \"), t / 2, r / 2), o(n.captchaCode);\n    }), n.canvasRef = e.createRef(), n.captchaCode = \"\", n;\n  }\n\n  var l, u, h;\n  return function (e, t) {\n    if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n    e.prototype = Object.create(t && t.prototype, {\n      constructor: {\n        value: e,\n        writable: !0,\n        configurable: !0\n      }\n    }), t && i(e, t);\n  }(s, t), l = s, (u = [{\n    key: \"componentDidMount\",\n    value: function value() {\n      this.generateCaptcha();\n    }\n  }, {\n    key: \"render\",\n    value: function value() {\n      var t = this.props,\n          n = t.width,\n          r = t.height,\n          a = t.retryIcon,\n          o = t.containerClassName,\n          i = t.captchaClassName,\n          c = t.retryButtonClassName,\n          s = t.retryImgClassName,\n          l = t.retry,\n          u = t.retryIconSize;\n      return e.createElement(\"div\", {\n        className: o\n      }, e.createElement(\"canvas\", {\n        width: n,\n        height: r,\n        ref: this.canvasRef,\n        style: {\n          pointerEvents: \"none\"\n        },\n        className: i\n      }), l && e.createElement(\"button\", {\n        onClick: this.resetCaptcha,\n        id: \"retryButton\",\n        className: c\n      }, e.createElement(\"img\", {\n        src: a,\n        alt: \"Re-new captcha\",\n        className: s,\n        width: u,\n        height: u\n      })));\n    }\n  }]) && r(l.prototype, u), h && r(l, h), s;\n}();\n\nu.defaultProps = {\n  width: 100,\n  height: 40,\n  fontSize: 22,\n  fontFamily: \"Arial, Tahoma\",\n  fontColor: \"#000\",\n  chars: \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\",\n  charsCount: 4,\n  backgroundColor: \"#F2F2F2\",\n  retry: !0,\n  retryIcon: \"https://cdn.jsdelivr.net/npm/react-client-captcha/dist/retry.svg\",\n  retryIconSize: 24,\n  retryButtonClassName: l,\n  retryImgClassName: \"\",\n  containerClassName: s,\n  captchaClassName: \"\"\n}, u.propTypes = {\n  width: n.number.isRequired,\n  height: n.number.isRequired,\n  fontSize: n.number,\n  fontFamily: n.string,\n  fontColor: n.string,\n  chars: n.string,\n  charsCount: n.number,\n  captchaCode: n.func.isRequired,\n  backgroundColor: n.string,\n  retry: n.bool,\n  retryIcon: n.string,\n  retryIconSize: n.number,\n  retryButtonClassName: n.string,\n  retryImgClassName: n.string,\n  containerClassName: n.string,\n  captchaClassName: n.string\n};\nexport default u;","map":{"version":3,"sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","ClientCaptcha","Component","props","canvasRef","React","createRef","captchaCode","generateCaptcha","chars","charsCount","_this","captcha","i","index","Math","ceil","random","length","indexOf","push","join","e","preventDefault","width","height","fontSize","backgroundColor","fontFamily","fontColor","generateCode","ctx","current","getContext","fillStyle","fillRect","font","textAlign","textBaseline","fillText","split","retryIcon","containerClassName","captchaClassName","retryButtonClassName","retryImgClassName","retry","retryIconSize","this","className","pointerEvents","onClick","resetCaptcha","id","src","alt","defaultProps","cssClasses","propTypes","PropTypes","number","isRequired","string","func","bool"],"mappings":"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","sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport cssClasses from \"./style.css\";\n\nclass ClientCaptcha extends Component {\n  constructor(props) {\n    super(props);\n    this.canvasRef = React.createRef();\n    this.captchaCode = \"\";\n  }\n\n  componentDidMount() {\n    this.generateCaptcha();\n  }\n\n  generateCode = () => {\n    const { chars, charsCount } = this.props;\n    const captcha = [];\n    for (let i = 0; i < charsCount; i += 1) {\n      const index = Math.ceil(Math.random() * chars.length);\n      if (chars[index] && captcha.indexOf(chars[index]) === -1)\n        captcha.push(chars[index]);\n      else i -= 1;\n    }\n    return captcha.join(\"\");\n  };\n\n  resetCaptcha = e => {\n    e.preventDefault();\n    this.generateCaptcha();\n  }\n\n  generateCaptcha = () => {\n    const {\n      width,\n      height,\n      fontSize,\n      captchaCode,\n      backgroundColor,\n      fontFamily,\n      fontColor\n    } = this.props;\n    this.captchaCode = this.generateCode();\n    const ctx = this.canvasRef.current.getContext(\"2d\");\n    ctx.fillStyle = backgroundColor;\n    ctx.fillRect(0, 0, width, height);\n    ctx.font = `${fontSize}px ${fontFamily}`;\n    ctx.textAlign = \"center\";\n    ctx.textBaseline = \"middle\";\n    ctx.fillStyle = fontColor;\n    ctx.fillText(this.captchaCode.split(\"\").join(\" \"), width / 2, height / 2);\n    captchaCode(this.captchaCode);\n  };\n\n  render() {\n    const {\n      width,\n      height,\n      retryIcon,\n      containerClassName,\n      captchaClassName,\n      retryButtonClassName,\n      retryImgClassName,\n      retry,\n      retryIconSize\n    } = this.props;\n    return (\n      <div className={containerClassName}>\n        <canvas\n          width={width}\n          height={height}\n          ref={this.canvasRef}\n          style={{ pointerEvents: \"none\" }}\n          className={captchaClassName}\n        />\n        {retry && (\n          <button\n            onClick={this.resetCaptcha}\n            id=\"retryButton\"\n            className={retryButtonClassName}\n          >\n            <img\n              src={retryIcon}\n              alt=\"Re-new captcha\"\n              className={retryImgClassName}\n              width={retryIconSize}\n              height={retryIconSize}\n            />\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nClientCaptcha.defaultProps = {\n  width: 100,\n  height: 40,\n  fontSize: 22,\n  fontFamily: \"Arial, Tahoma\",\n  fontColor: \"#000\",\n  chars: \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\",\n  charsCount: 4,\n  backgroundColor: \"#F2F2F2\",\n  retry: true,\n  retryIcon: \"https://cdn.jsdelivr.net/npm/react-client-captcha/dist/retry.svg\",\n  retryIconSize: 24,\n  retryButtonClassName: cssClasses.retryButton,\n  retryImgClassName: \"\",\n  containerClassName: cssClasses.captchaContainer,\n  captchaClassName: \"\"\n};\n\nClientCaptcha.propTypes = {\n  /**\n   * width of captcha image.\n   */\n  width: PropTypes.number.isRequired,\n  /**\n   * height of captcha image.\n   */\n  height: PropTypes.number.isRequired,\n  /**\n   * fontSize of captcha characters.\n   */\n  fontSize: PropTypes.number,\n  /**\n   * fontFamily of captcha characters.\n   */\n  fontFamily: PropTypes.string,\n  /**\n   * fontColor of captcha characters.\n   */\n  fontColor: PropTypes.string,\n  /**\n   * characters that captcha should be made with.\n   */\n  chars: PropTypes.string,\n  /**\n   * count of characters that captcha should be made with.\n   */\n  charsCount: PropTypes.number,\n  /**\n   * function that returns current shown captcha code.\n   */\n  captchaCode: PropTypes.func.isRequired,\n  /**\n   * backgroundColor of captcha image.\n   */\n  backgroundColor: PropTypes.string,\n  /**\n   * whether captcha has retry functionality\n   */\n  retry: PropTypes.bool,\n  /**\n   * the icon of retry button\n   */\n  retryIcon: PropTypes.string,\n  /**\n   * size of retry button icon\n   */\n  retryIconSize: PropTypes.number,\n  /**\n   * className of retry button\n   */\n  retryButtonClassName: PropTypes.string,\n  /**\n   * className of retry img\n   */\n  retryImgClassName: PropTypes.string,\n  /**\n   * className of captcha and retry button container div\n   */\n  containerClassName: PropTypes.string,\n  /**\n   * className of captcha image\n   */\n  captchaClassName: PropTypes.string\n};\n\nexport default ClientCaptcha;\n"]},"metadata":{},"sourceType":"module"}