{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/IGR/tnega-pratik/src/Pages/AuthPages/ChangePass.js\";\nimport React, { Component } from 'react';\nimport titleIcon from \"../../Assests/icon2/Bimg.svg\";\nimport loginIcon from \"../../Assests/icon2/loginIcon.svg\";\nimport captachImg from '../../Assests/icon2/captach.PNG';\nimport SignIn_OTP from './Otp';\nimport { loginApi, forgotApi } from '../../store/Login/action';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport signin_bannerImg from '../../Assests/icon/signin_bannerImg.png';\nimport RCG from 'react-captcha-generator';\nimport { BsJustify } from 'react-icons/bs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MySwal = withReactContent(Swal);\n_c = MySwal;\n\nclass ChangePass extends Component {\n  constructor(props) {\n    super(props);\n\n    this.generateString = length => {\n      const characters = 'abc134@';\n      let result = '';\n      const charactersLength = this.state.characters.length;\n\n      for (let i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n\n      return result;\n    };\n\n    this.componentDidUpdate = prev => {\n      if (prev.login_res != this.props.login_res) {\n        console.log('Login Data--->', this.props.login_res);\n\n        if (this.props.login_res.message == \"Login Success\") {\n          if (this.props.login_res.user.role == \"SRO\") {\n            localStorage.setItem('auth_token', this.props.login_res.user.token);\n            MySwal.fire(\"Login Successful\", `Role: ${this.props.login_res.user.role}`, 'success').then(() => this.props.history.push('/registration-dashboard4'));\n          }\n\n          if (this.props.login_res.user.role == \"DRO\") {\n            localStorage.setItem('auth_token', this.props.login_res.user.token);\n            MySwal.fire(\"Login Successful\", `Role: ${this.props.login_res.user.role}`, 'success') // .then(()=> this.props.history.push('/registration-dashboard2'))\n            .then(() => {\n              this.props.history.push({\n                pathname: '/registration-dashboard2',\n                state: {\n                  role: this.props.login_res.user.role,\n                  Zone: this.props.login_res.user.Zone\n                }\n              });\n            });\n          }\n\n          if (this.props.login_res.user.role == \"DIG\") {\n            localStorage.setItem('auth_token', this.props.login_res.user.token);\n            MySwal.fire(\"Login Successful\", `Role: ${this.props.login_res.user.role}`, 'success').then(() => this.props.history.push(`/registration-dashboard3/${this.props.login_res.user.Zone}`));\n          }\n\n          if (this.props.login_res.user.role == \"IGR\") {\n            localStorage.setItem('auth_token', this.props.login_res.user.token);\n            MySwal.fire(\"Login Successful\", `Role: ${this.props.login_res.user.role}`, 'success').then(() => {\n              this.props.history.push({\n                pathname: '/registration-dashboard',\n                state: {\n                  role: this.props.login_res.user.role\n                }\n              });\n            });\n          }\n\n          if (this.props.login_res.user.role == \"admin\") {\n            localStorage.setItem('auth_token', this.props.login_res.user.token);\n            MySwal.fire(\"Login Successful\", `Role: ${this.props.login_res.user.role}`, 'success').then(() => this.props.history.push('/superadmin/first'));\n          } // admin/first\n\n\n          if (prev.login_res_err != this.props.login_res_err) {\n            if (this.props.login_res_err.message == \"Login Falied\") {\n              console.log('err -- > ', this.props.login_res_err);\n              MySwal.fire(\"Login\", `Failed`, 'info');\n            } else if (this.props.login_res_err.status != 200) {\n              MySwal.fire(\"Login\", `Failed`, 'info');\n            }\n          }\n\n          if (prev.forget_res != this.props.forget_res) {\n            console.log('Forgot Password--->', this.props.forget_res);\n            localStorage.setItem('auth_token', this.props.forget_res.user.token);\n          }\n        }\n      }\n    };\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({ ...this.state,\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault(); // this.props.history.push('/sign-otp');\n      // this.setState({...this.state, booleanOTpPage:true});\n\n      this.handleLogin();\n    };\n\n    this.handleForgotPass = () => {\n      this.handleForgot();\n    };\n\n    this.handleLogin = () => {\n      const data = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      this.props.loginApi(data);\n    };\n\n    this.handleForgot = () => {\n      const data = {\n        email: this.state.email\n      };\n      this.props.forgotApi(data);\n      MySwal.fire(\"Password reset OTP has been sent to your mail\", `${this.state.email}`, 'success').then(() => this.props.history.push('/otpAuth'));\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      confirm_password: '',\n      role: '',\n      Zone: '',\n      District: '',\n      booleanOTpPage: false,\n      captcha: ''\n    };\n    this.result = this.result.bind(this);\n    this.handleClick = this.handleSubmit.bind(this);\n  } //captcha\n\n\n  result(text) {\n    this.setState({\n      captcha: text\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-layout\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-sub-layout\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-8  login-titleRow\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: titleIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this), \" \\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Blockchained Documents Of Registration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" text\",\n              children: \"All Tamil Nadu Registration documents secured by Tamil Nadu Blockchain backbone infrastructure.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login-bannerImg\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: signin_bannerImg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 29\n              }, this), \" \\xA0\\xA0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 26\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"login-card\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"login-card-sub-layout\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-12 loginRow1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: loginIcon\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 45\n                    }, this), \" \\xA0\\xA0 \", /*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"Change the Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 82\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 37\n                }, this), this.state.booleanOTpPage == false ? /*#__PURE__*/_jsxDEV(\"form\", {\n                  className: \"login-form pb-3 mt-4\",\n                  onSubmit: this.handleSubmit,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12\",\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Enter Your Old Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 206,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12 mt-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        name: \"password\",\n                        onChange: this.handleChange,\n                        value: this.state.password,\n                        placeholder: \"Old Password\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 209,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row mt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12\",\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Enter the New Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 214,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12 mt-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        name: \"confirm_password\",\n                        onChange: this.handleChange,\n                        value: this.state.password,\n                        placeholder: \"New Password\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 217,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row mt-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12\",\n                      children: /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: \"Enter The Captcha\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 222,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12\",\n                      style: {\n                        float: 'right'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(RCG, {\n                        result: this.result\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 225,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12 mt-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        placeholder: \"Enter The Captcha\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row mt-5 mb-3 \",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12 \",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"login-submit\",\n                        type: \"submit\",\n                        children: \"Change Password\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 233,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 42\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 72\n                }, this) : /*#__PURE__*/_jsxDEV(SignIn_OTP, {\n                  history: this.props.history\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(state);\n  return {\n    login_res: state.login.login_response,\n    login_res_err: state.login.login_response_err,\n    //forget call\n    forget_res: state.login.forget_response,\n    forget_res_err: state.login.forget_res_err\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    loginApi,\n    forgotApi\n  }, dispatch);\n}; // export default Login;\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChangePass);\n\nvar _c;\n\n$RefreshReg$(_c, \"MySwal\");","map":{"version":3,"sources":["/home/user/Desktop/IGR/tnega-pratik/src/Pages/AuthPages/ChangePass.js"],"names":["React","Component","captachImg","SignIn_OTP","loginApi","forgotApi","bindActionCreators","connect","Swal","withReactContent","signin_bannerImg","RCG","BsJustify","MySwal","ChangePass","constructor","props","generateString","length","characters","result","charactersLength","state","i","charAt","Math","floor","random","componentDidUpdate","prev","login_res","console","log","message","user","role","localStorage","setItem","token","fire","then","history","push","pathname","Zone","login_res_err","status","forget_res","handleChange","e","name","value","target","setState","handleSubmit","preventDefault","handleLogin","handleForgotPass","handleForgot","data","email","password","confirm_password","District","booleanOTpPage","captcha","bind","handleClick","text","render","titleIcon","loginIcon","float","mapStateToProps","login","login_response","login_response_err","forget_response","forget_res_err","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport titleIcon from '../../Assests/icon2/Bimg.svg';\nimport loginIcon from '../../Assests/icon2/loginIcon.svg';\nimport captachImg from '../../Assests/icon2/captach.PNG';\nimport SignIn_OTP from './Otp';\nimport { loginApi , forgotApi } from '../../store/Login/action';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport signin_bannerImg from '../../Assests/icon/signin_bannerImg.png'\nimport RCG from 'react-captcha-generator';\nimport { BsJustify } from 'react-icons/bs';\nconst MySwal = withReactContent(Swal);\n\n\n\nclass ChangePass extends Component{\n\n    constructor(props){\n        super(props);\n        this.state={\n            email:'',\n            password:'',\n            confirm_password:'',\n            role:'',\n            Zone:'',\n            District:'',\n            booleanOTpPage:false,\n            captcha:''\n          \n        }\n\n        this.result = this.result.bind(this)\n        this.handleClick = this.handleSubmit.bind(this)\n    }\n\n    //captcha\n    generateString=(length)=> \n  {\n      const characters ='abc134@';\n      let result = '';\n      const charactersLength = this.state.characters.length;\n      for ( let i = 0; i < length; i++ ) {\n          result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n     return result;\n   }\n   \n\n\n\n          \n   \n   componentDidUpdate=(prev)=>{\n\n        \n        if(prev.login_res != this.props.login_res){\n            console.log('Login Data--->',this.props.login_res);\n            if(this.props.login_res.message==\"Login Success\"){\n                if(this.props.login_res.user.role==\"SRO\"){\n                localStorage.setItem('auth_token',this.props.login_res.user.token);\n                MySwal.fire(\"Login Successful\",`Role: ${this.props.login_res.user.role}`,'success')\n                .then(()=> this.props.history.push('/registration-dashboard4'))\n\n                }\n\n                if(this.props.login_res.user.role==\"DRO\"){\n                        localStorage.setItem('auth_token',this.props.login_res.user.token);\n                        MySwal.fire(\"Login Successful\",`Role: ${this.props.login_res.user.role}`,'success')\n                        // .then(()=> this.props.history.push('/registration-dashboard2'))\n                        .then(()=>{ this.props.history.push({\n                            pathname: '/registration-dashboard2',\n                            state: { role:this.props.login_res.user.role,\n                                     Zone: this.props.login_res.user.Zone }\n                              })}\n                        )\n                  }\n             if(this.props.login_res.user.role==\"DIG\"){\n                            localStorage.setItem('auth_token',this.props.login_res.user.token);\n                            MySwal.fire(\"Login Successful\",`Role: ${this.props.login_res.user.role}`,'success')\n                             .then(()=> this.props.history.push(`/registration-dashboard3/${this.props.login_res.user.Zone}`))\n                            \n                    }\n\n                    if(this.props.login_res.user.role==\"IGR\"){\n                        localStorage.setItem('auth_token',this.props.login_res.user.token);\n                        MySwal.fire(\"Login Successful\",`Role: ${this.props.login_res.user.role}`,'success')\n                        .then(()=> {this.props.history.push({ pathname: '/registration-dashboard', state:{role:this.props.login_res.user.role}} )})\n                        \n                     }            \n                \n             if(this.props.login_res.user.role==\"admin\"){\n                            localStorage.setItem('auth_token',this.props.login_res.user.token);\n                            MySwal.fire(\"Login Successful\",`Role: ${this.props.login_res.user.role}`,'success')\n                            .then(()=> this.props.history.push('/superadmin/first'))\n                }            \n                    \n\n\n                // admin/first\n            \n        \n        if(prev.login_res_err != this.props.login_res_err){\n            if(this.props.login_res_err.message==\"Login Falied\"){\n                console.log('err -- > ',this.props.login_res_err)\n                MySwal.fire(\"Login\",`Failed`,'info')\n                \n            }else\n            if(this.props.login_res_err.status!=200){\n                MySwal.fire(\"Login\",`Failed`,'info')\n                \n            }\n        }\n\n        if(prev.forget_res != this.props.forget_res){\n            console.log('Forgot Password--->',this.props.forget_res);\n            localStorage.setItem('auth_token',this.props.forget_res.user.token);  \n        }\n\n        \n\n        \n            }}    }\n\n\n\n\n    handleChange=(e)=>{\n        const {name, value} = e.target;\n        this.setState({...this.state,[name]:value})\n        \n    }\n\n    handleSubmit=(e)=>{\n        e.preventDefault();\n     \n        // this.props.history.push('/sign-otp');\n        // this.setState({...this.state, booleanOTpPage:true});\n        this.handleLogin();\n\n\n    }\n\n    handleForgotPass=()=>{\n        this.handleForgot();\n    }\n\n\n    handleLogin=()=>{\n        const data={\n            email:this.state.email,\n            password:this.state.password\n        }\n        this.props.loginApi(data);\n    }\n\n    handleForgot=()=>{\n        const data={\n            email:this.state.email,\n        }\n        this.props.forgotApi(data);\n         MySwal.fire(\"Password reset OTP has been sent to your mail\", `${this.state.email}`,'success')\n        .then(()=> this.props.history.push('/otpAuth'))\n    }\n\n    result(text) {\n        this.setState({\n          captcha: text\n        })\n      }\n\n\n    render(){\n        return (\n            <div className='login-layout'>\n                <div className='login-sub-layout'>\n                    \n                    <div className='row mt-3'>\n\n                        \n                        <div className='col-md-8  login-titleRow'>\n                            <img src={titleIcon} /> &nbsp;&nbsp;\n                            <label>Blockchained Documents Of Registration</label>\n                            <div className=' text'>\n                                    All Tamil Nadu Registration documents secured by Tamil Nadu Blockchain backbone infrastructure.\n                             </div>\n                            \n                         <div className='login-bannerImg'>\n                            <img src={signin_bannerImg} /> &nbsp;&nbsp;    \n                        </div>\n\n                        </div >\n                        \n                         <div className='col-md-4'>\n                            <div className='login-card'>\n                                <div className='login-card-sub-layout'>\n                                    <div className='row'>\n                                        <div className='col-md-12 loginRow1'>\n                                            <img src={loginIcon} /> &nbsp;&nbsp; <label>Change the Password</label>\n                                        </div>\n                                    </div>\n                                    {this.state.booleanOTpPage==false? <form className='login-form pb-3 mt-4' onSubmit={this.handleSubmit}>\n                                        <div className='row'>\n                                            <div className='col-md-12'>\n                                                <label>Enter Your Old Password</label>\n                                            </div>\n                                            <div className='col-md-12 mt-2'>\n                                                <input type=\"password\" name=\"password\" onChange={this.handleChange} value={this.state.password}  placeholder='Old Password' required/>\n                                            </div>\n                                        </div>\n                                        <div className='row mt-4'>\n                                            <div className='col-md-12'>\n                                                <label>Enter the New Password</label>\n                                            </div>\n                                            <div className='col-md-12 mt-2'>\n                                                <input type=\"password\" name=\"confirm_password\" onChange={this.handleChange} value={this.state.password} placeholder='New Password' required/>\n                                            </div>\n                                        </div>\n                                        <div className='row mt-4'>\n                                            <div className='col-md-12'>\n                                                <label>Enter The Captcha</label>\n                                            </div>\n                                            <div className='col-md-12'  style={{float:'right'}}>\n                                                <RCG result={this.result}/>\n                                            </div>\n                                            <div className='col-md-12 mt-2'>\n                                                <input type=\"text\" placeholder='Enter The Captcha' />\n                                            </div>\n                                        </div>\n                                         <div className='row mt-5 mb-3 '>\n                                            <div className='col-md-12 '>\n                                                <button className='login-submit' type=\"submit\">Change Password</button>\n                                            </div>\n                                        </div>\n                                        {/* <div className='row mt-0 mb-3 '>\n                                            <div className='col-md-12 '>\n                                                <a className='forgot-psswrd' type=\"password\" onClick={this.handleForgotPass} style={{color:'green'}}>Forget Password</a>\n                                            </div>\n                                        </div> */}\n                                    </form>:<SignIn_OTP history={this.props.history}></SignIn_OTP> }\n                                </div>\n                            </div>\n                        </div> \n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps=(state)=>{\n    console.log(state)\n    return {\n        login_res:state.login.login_response,\n        login_res_err:state.login.login_response_err,\n        //forget call\n        forget_res: state.login.forget_response,\n        forget_res_err: state.login.forget_res_err\n\n    }\n     \n}\n\nconst mapDispatchToProps=(dispatch)=>{\n    return bindActionCreators({\n        loginApi ,\n        forgotApi\n       },dispatch);\n}\n\n\n// export default Login;\nexport default connect(mapStateToProps,mapDispatchToProps)(ChangePass);"]},"metadata":{},"sourceType":"module"}